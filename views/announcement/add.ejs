<style>
    form {
        display: flex;
        flex-direction: column;
    }
</style>
<script>
    $(document).ready(() => {
        $('#addAnnouncementForm').on('submit', event => {
            event.preventDefault()
            const data = $.getFormData('#addAnnouncementForm')
            console.log('data', data)
            $.ajax({
                url: '/api/announcement/add',
                method: 'POST',
                data,
                success: res => {
                    console.log('res', res)
                    window.location.href = './';
                    if (!res.success) {
                        $('#addAnnouncementForm .error').html(res.message)
                    }
                },
            })
        })
    })
</script>

<div class="board">
    <form id="addAnnouncementForm" class="card">
        <strong>Add Announcement</strong>
        <textarea name="content" rows="5" cols="40"></textarea>
        <label for="to">To:</label>
        <select name="to" required>
            <option value="all">All</option>
            <option value="teacher">Teacher</option>
            <option value="student">Student</option>
        </select>
        <button type="submit">Add</button>
        <div class="error"></div>
    </form>
</div>
<%- contentFor('title') %>Dashboard
